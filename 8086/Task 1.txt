
.MODEL SMALL
.DATA
	MSG1 DB 0AH,0DH,'TYPE A HEXA NUMBER (0 - FFFF) : ','$'
	MSG2 DB 0AH,0DH,'IN BINARY IT IS : ','$'
	MSG3 DB 0AH,0DH,'ILLEGAL HEXA DIGIT, TRY AGAIN :','$'
.CODE
MAIN PROC
	MOV AX,@DATA ;intialize DS
	MOV DS,AX

	MOV AH,9 ; prompts user
	LEA DX,MSG1
	INT 21H
START :
	MOV BX,0
	MOV AH,1
	INT 21H ;read
	MOV CL,4
WHILE_:
	CMP AL,0DH
	JE END_WHILE ;exit 
	CMP AL,'0' 
	JL ERROR1_
	CMP AL, '9'
	JG LETTER
	AND AL,0FH 
	JMP SHIFT
LETTER: 
	CMP AL,'F' 
	JG ERROR1_
	CMP AL,'A'
	JL ERROR1_
	SUB AL,37H 
SHIFT: 
	SHL BX,CL 
	OR BL,AL
	INT 21H
	JMP WHILE_ ; reading hexa
END_WHILE:
	MOV AH,9 
	LEA DX,MSG2 ;display result
	INT 21H
	MOV CX,16 ;display BX
	MOV AH,2
DISPLAY1: 
	SHL BX,1
	JC SHOW1
	MOV DL,'0'
	INT 21H
	JMP LOOP1
SHOW1: 
	MOV DL,'1'
	INT 21H
LOOP1: 
	LOOP DISPLAY1
	JMP END1_
ERROR1_: 
	MOV AH,9
	LEA DX,MSG3 ;display error MSG
	INT 21H
	JMP START ;and START again
END1_: 
	MOV AH,4CH
	INT 21H
MAIN ENDP
END MAIN