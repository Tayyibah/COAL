;|||||||||||||||||||||||||||||||||||||||| N V|||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||||||||||| TIC TAC TOE |||||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||||| PROGRAMMER : ------- ||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||||||||||| BITF13A0-- ||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||




.MODEL SMALL
.STACK 100H

;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||| DATA PART ||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                                                                                                                                                                                                                                                                                                                                          ;|||
.DATA                                                                                                                                                                                                                                                                                                                                                                     ;|||
        NUMS DB   '*','*','*'                                                                                                                                                                                                                                                                                                                       ;|||
             DB   '*','*','*'
             DB   '*','*','*'
                                                                                                                                                                                                                                                                                                                                                                        ;|||
        PLAYER1_TURN  DB 10,13,10,13,'            VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV',10,13,'            >>>>>>>>>>>>>>>>>>>> PLAYER 1 TURN <<<<<<<<<<<<<<<<<<<<',10,13,'            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^',10,13,'$'                                                                                                       ;|||
        PLAYER2_TURN  DB 10,13,10,13,'            VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV',10,13,'            >>>>>>>>>>>>>>>>>>>> PLAYER 2 TURN <<<<<<<<<<<<<<<<<<<<',10,13,'            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^',10,13,'$'                                                                                                       ;|||
        INVALID_INPUT DB 10,13,'INVALID INPUT , TRY AGAIN$'                                                                                                                                                                                                                                                                                                                        ;|||
        INPUT         DB 10,13,'ENTER INDEX : $'                                                                                                                                                                                                                                                                                                                                   ;|||
        PLAY_AGAIN    DB 10,13,'PALY AGAIN ? (Y/N)$'                                                                                                                                                                                                                                                                                                                               ;|||
        GAME_START    DB 10,13,'              |||||||||||||||||||||||||||||||||||||||||||||||||||||||',10,13,'              |||||||||||||||||||||||  GAME START  ||||||||||||||||||',10,13,'              ||||||||||||||||||||||| TIC TAC TOE  ||||||||||||||||||',10,13,'              |||||||||||||||||||||||||||||||||||||||||||||||||||||||',10,13,10,13,'$'                   ;|||
        PLAYERS_MARKS DB 10,13,10,13,'              PLAYER 1 MARK : X        &&       PLAYER 2 MARK : O',10,13,10,13,'$'                                                                                                                                                                                                                                                           ;|||
        GAME_TIE      DB 10,13,10,13,'            >>>>>>>>>>>>>>>>>>>>>>>>>>>GAME TIE<<<<<<<<<<<<<<<<<<<<<<<<<<<             ',10,13,'$'                                                                                                                                                                                                                                                                                                                                ;|||
        PLAYER1_WIN   DB 10,13,10,13,'                   ',16,16,16,16,16,16,16,16,16,16,16,16,2,' PLAYER 1 WINS ',2,17,17,17,17,17,17,17,17,17,17,17,17,10,13,10,13,'$'                                                                                                                                                                                                           ;|||
        PLAYER2_WIN   DB 10,13,10,13,'                   ',16,16,16,16,16,16,16,16,16,16,16,16,1,' PLAYER 2 WINS ',1,17,17,17,17,17,17,17,17,17,17,17,17,10,13,10,13,'$'                                                                                                                                                                                                          ;|||
                                                                                                                                                                                                                                                                                                                                                                          ;|||
        MSG DB 10,13,'                                    -------------$'                                                                                                                                                                                                                                                                                                 ;|||
        SPCS DB '                                    $'                                                                                                                                                                                                                                                                                                                   ;|||

        TURN1 DB 1
        FLAG1 DB 0
        WIN_1  DB 0                                                                                                                                                                                                                                                                                                                                                                  ;|||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||

.CODE
   MAIN PROC
        MOV AX,@DATA
                MOV DS,AX
        
START_GAMEA:                                  
        MOV AH,09                        ;||||||||||||||||||||||||||
        LEA DX,GAME_START                ;|| DISPLAYES GAME START ||
        INT 21H                          ;||||||||||||||||||||||||||

        MOV CX,9
        CALL DISPLAY1                    ;||| FUNCTION CALL TO DISPLAY GAME BOARD |||
WHILE1:


        CMP TURN1,2
        JE  PLAYER2

        PLAYER1:
                MOV AH,09
                LEA DX,PLAYER1_TURN
                INT 21H
                JMP INPUT1              ;||| SKIP PLAYER 2 IF PLAYER 1'S TURN ||

        PLAYER2:
                MOV AH,09
                LEA DX,PLAYER2_TURN
                INT 21H


        INPUT1:

                MOV AH,09
                LEA DX,INPUT
                INT 21H


                MOV AH,01                    ;||| INPUT INDEX |||
                INT 21H                      ;|||||||||||||||||||  
                                        
                                      
                PUSH AX                      ;|| AX USED AS PARAMETER

                CALL INPUT_VALIDATION        ;|| INPUT VALIDATION FUNCTION CALL ||

                POP  AX                      ;|| AX ORIGNAL VALUE RETURN

                CMP FLAG1,0                  ;|| CHECKING FLAG STATUS 
                JNE CONTINUE1
                        CALL INVALID_INPUTF
                        JMP INPUT1
        CONTINUE1:

               
                MOV AH,0
                PUSH AX                      ;|| AX USED AS PARAMETER
                CALL IF_OCCUPIED             ;|| FUNCTION CALL
                POP  AX                      ;|| AX ORIGNAL VALUE RETURN

                CMP FLAG1,0                  ;|| CHECKING FLAG STATUS
                JNE CONTINUE2
                        CALL INVALID_INPUTF
                        JMP INPUT1

        CONTINUE2:
                MOV AH,0
                PUSH AX
                CALL PLACE1
                POP  AX

                CALL DISPLAY1                ;|| DISPLAYS GAME BOARD

                CALL IF_WIN                  
                CMP  WIN_1,1                 ;|| CHECKS IF ANY PLAYER WINS
                JE   CHECK
                
        LOOP WHILE1

        END_WHILE1:

        MOV AH,09
        LEA DX,GAME_TIE
        INT 21H

        CHECK:
                CALL PLAY_AGAINF
        
                CMP FLAG1,0                  ;|| CHECKS FLAG STATUS
                JE  END_GAME
        
                CALL RESET_GAME
                JMP START_GAMEA

        END_GAME:
MOV AH,4CH
INT 21H
MAIN ENDP

;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||| RESET AGAIN |||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
                                                               ;||
RESET_GAME PROC                                                ;||
        PUSH SI                                                ;||
        PUSH BX                                                ;||
        MOV SI,0                                               ;||
        MOV BX,0                                               ;||
                                                               ;||
                                                               ;||
                                                               ;||
        WHILE_1:                                               ;||
              CMP BX,6                       ;|||||||||||      ;||
              JA  END_WHILE1                 ;|| RESET ||      ;||
                                             ;|| BOARD ||      ;||
              WHILE_2:                       ;|||||||||||      ;||
                        CMP SI,2                               ;||
                        JA  END_WHILE2                         ;||
                        MOV NUMS[BX][SI],BYTE PTR '*'          ;||
                        INC SI                                 ;||
                        JMP WHILE_2                            ;||
              END_WHILE2:                                      ;||
              ADD BX,3                                         ;||
              MOV SI,0                                         ;||
              JMP WHILE_1                                      ;||
                                                               ;||
        END_WHILE1:                                            ;||
        MOV TURN1,1                                            ;||
        MOV FLAG1,0                                            ;||
        MOV WIN_1,0                                            ;||
                                                               ;||
        POP CX                                                 ;||
        POP SI                                                 ;||
        RET                                                    ;||
                                                               ;||
RESET_GAME ENDP                                                ;||
                                                               ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||




;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||| PLAY AGAIN ||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
PLAY_AGAINF PROC                                               ;||
                                                               ;||
        PUSH AX                                                ;||
        PUSH DX                                                ;||
                                                               ;||
PLAY_AGAIN1:                                                   ;||
                                                               ;||
        MOV AH,09                                              ;||
        LEA DX,PLAY_AGAIN                                      ;||
        INT 21H                                                ;||
                                                               ;||
        MOV AH,01                                              ;||
        INT 21H                                                ;||
                                                               ;||
        CMP AL,'N'                                             ;||
        JE  RESET_FLAG                                         ;||
        CMP AL,'n'                                             ;||
        JE  RESET_FLAG                                         ;||
        CMP AL,'Y'                                             ;||
        JE  SET_FLAG                                           ;||
        CMP AL,'y'                                             ;||
        JE  SET_FLAG                                           ;||
                                                               ;||
        JMP PLAY_AGAIN1                                        ;||
                                                               ;||
                                                               ;||
        SET_FLAG:                                              ;||
                MOV FLAG1,1                                    ;||
                POP DX                                         ;||
                POP AX                                         ;||
                RET                                            ;||
                                                               ;||
        RESET_FLAG:                                            ;||
                MOV FLAG1,0                                    ;||
                POP DX                                         ;||
                POP AX                                         ;||
                RET                                            ;||
                                                               ;||
                                                               ;||
PLAY_AGAINF ENDP                                               ;||
                                                               ;||
                                                               ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||


;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||| WIN OR NOT ||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||                                              
                                                                     ;|||
IF_WIN PROC                                                          ;|||
                                                                     ;|||
                                                                     ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;||||||||| CHECK WHETHER PLAYER WINS OR NOT |||||||||||              ;|||
;||||||||||| CHECKING ALL POSSIBILITIES |||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
        LEA SI,NUMS                                 ;||              ;|||
        PUSH DX                                     ;||              ;|||
        MOV SI,0                                    ;||              ;|||
        MOV BX,0                                    ;||              ;|||
        CMP TURN1,1                                 ;||              ;|||
        JE  MOV_O                                   ;||              ;|||
                MOV DL,'X'                          ;||              ;|||
                JMP SKIP_1                          ;||              ;|||
        MOV_O:                                      ;||              ;|||
                MOV DL,'O'                          ;||              ;|||
        SKIP_1:                                     ;||              ;|||
                                                    ;||              ;|||
        CMP NUMS[BX][SI],DL                         ;||              ;|||
        JNE CON1_1                 ;|||||||||||||||||||              ;|||
        CMP NUMS[BX][SI+1],DL      ;|| CHECK       ||||              ;|||
        JNE CON1_1                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX][SI+2],DL      ;|| 1-2-3       ||||              ;|||
        JNE CON1_1                 ;|||||||||||||||||||              ;|||
        CMP DL,'X'                                  ;||              ;|||
        JNE WIN2                                    ;||              ;|||
        JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
     CON1_1:                                        ;||              ;|||
        CMP NUMS[BX][SI],DL                         ;||              ;|||
        JNE CON1_2                                  ;||              ;|||
        CMP NUMS[BX+3][SI],DL      ;|||||||||||||||||||              ;|||
        JNE CON1_2                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI],DL      ;|| 1-4-7       ||||              ;|||
        JNE CON1_2                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
        JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
     CON1_2:                                        ;||              ;|||
        CMP NUMS[BX][SI],DL                         ;||              ;|||
        JNE CON1_3                                  ;||              ;|||
        CMP NUMS[BX+3][SI+1],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_3                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI+2],DL    ;|| 1-5-9       ||||              ;|||
        JNE CON1_3                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
     CON1_3:                                        ;||              ;|||
        CMP NUMS[BX][SI+1],DL                       ;||              ;|||
        JNE CON1_4                                  ;||              ;|||
        CMP NUMS[BX+3][SI+1],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_4                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI+1],DL    ;|| 2-5-8       ||||              ;|||
        JNE CON1_4                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
    CON1_4:                                         ;||              ;|||
        CMP NUMS[BX][SI+2],DL                       ;||              ;|||
        JNE CON1_5                                  ;||              ;|||
        CMP NUMS[BX+3][SI+1],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_5                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI],DL      ;|| 3-5-7       ||||              ;|||
        JNE CON1_5                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
    CON1_5:                                         ;||              ;|||
        CMP NUMS[BX][SI+2],DL                       ;||              ;|||
        JNE CON1_6                                  ;||              ;|||
        CMP NUMS[BX+3][SI+2],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_6                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI+2],DL    ;|| 3-6-9       ||||              ;|||
        JNE CON1_6                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
    CON1_6:                                         ;||              ;|||
        CMP NUMS[BX+3][SI],DL                       ;||              ;|||
        JNE CON1_7                                  ;||              ;|||
        CMP NUMS[BX+3][SI+1],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_7                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+3][SI+2],DL    ;|| 4-5-6       ||||              ;|||
        JNE CON1_7                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
    CON1_7:                                         ;||              ;|||
        CMP NUMS[BX+6][SI],DL                       ;||              ;|||
        JNE CON1_8                                  ;||              ;|||
        CMP NUMS[BX+6][SI+1],DL    ;|||||||||||||||||||              ;|||
        JNE CON1_8                 ;|| COMBINATION ||||              ;|||
        CMP NUMS[BX+6][SI+2],DL    ;|| 7-8-9       ||||              ;|||
        JNE CON1_8                 ;|||||||||||||||||||              ;|||
        CMP DL,'O'                                  ;||              ;|||
	JE WIN2                                     ;||              ;|||
	JMP WIN1                                    ;||              ;|||
                                                    ;||              ;|||
    CON1_8:                                         ;||              ;|||
        MOV WIN_1,0                                 ;||              ;|||
        POP DX                                      ;||              ;|||
        RET                                         ;||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
                                                                     ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;|||||||||||||||| IN CASE PLAYER 1 WIN ||||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||                                                   
WIN1:                                               ;||              ;|||
        MOV AH,09                                   ;||              ;|||
        LEA DX,PLAYER1_WIN                          ;||              ;|||
        INT 21H                                     ;||              ;|||
        POP DX                                      ;||              ;|||
        MOV WIN_1,1                                 ;||              ;|||
        RET                                         ;||              ;|||
                                                    ;||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
                                                                     ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;|||||||||||||||| IN CASE PLAYER 2 WIN ||||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
WIN2:                                               ;||              ;|||
        MOV AH,09                                   ;||              ;|||
        LEA DX,PLAYER2_WIN                          ;||              ;|||
        INT 21H                                     ;||              ;|||
        POP DX                                      ;||              ;|||
                                                    ;||              ;|||
        MOV WIN_1,1                                 ;||              ;|||
        RET                                         ;||              ;|||
                                                    ;||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||              ;|||
                                                                     ;|||
IF_WIN ENDP                                                          ;|||
                                                                     ;|||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||



;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||| FILL PLACE WITH RESPECTIVE PLAYER MARK ||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
PLACE1 PROC                                                    ;||
                                                               ;||
                MOV BP,SP                                      ;||
                ADD BP,2                                       ;||
                                                               ;||
                PUSH SI                                        ;||
                PUSH BX                                        ;||
                                                               ;||
                MOV BX,0                                       ;||
                                                               ;||
                MOV SI,[BP]                                    ;||
                SUB SI,49                                      ;||
                                                               ;||
                INDEX1:                                        ;||
                        CMP SI,2                               ;||
                        JNA INDEX_SET                          ;||
                        ADD BX,3                               ;||
                        SUB SI,3                               ;||
                                                               ;||
                INDEX_SET:                                     ;||
                CMP TURN1,2                                    ;||
                JE  PLACE_O                                    ;||
                                                               ;||
                        MOV NUMS[BX][SI],BYTE PTR 'X'          ;||
                        MOV TURN1,2                            ;||
                        POP BX                                 ;||
                        POP SI                                 ;||
                        RET                                    ;||
                                                               ;||
                PLACE_O:                                       ;||
                                                               ;||
                        MOV NUMS[BX][SI],BYTE PTR 'O'          ;||                       MOV TURN1,1
                        POP BX                                 ;||
                        POP SI                                 ;||
                        MOV TURN1,1                            ;||
                        RET                                    ;||
PLACE1 ENDP                                                    ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||


;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||| CHECK WETHER PLACE IS OCCUPIED OR NOT |||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
                                                               ;||
IF_OCCUPIED PROC                                               ;||
        PUSH BP                                                ;||
        MOV BP,SP                                              ;||
        ADD BP,4                                               ;||
        PUSH SI                                                ;||
        PUSH BX                                                ;||
                                                               ;||
        MOV BX,0                                               ;||
                                                               ;||
        MOV SI,[BP]                                            ;||
        SUB SI,49                                              ;||
                                                               ;||
        INDEX1:                                                ;||
                CMP SI,2                                       ;||
                JNA INDEX_SET                                  ;||
                ADD BX,3                                       ;||
                SUB SI,3                                       ;||
                                                               ;||
        INDEX_SET:                                             ;||
                                                               ;||
                CMP NUMS [BX][SI] ,BYTE PTR 'X'                ;||
                JE FALSE2                                      ;||
                CMP NUMS [BX][SI] ,BYTE PTR 'O'                ;||
                JE FALSE2                                      ;||
                                                               ;||
                POP BX                                         ;||
                POP SI                                         ;||
                POP BP                                         ;||
                MOV FLAG1,1                                    ;||
                RET                                            ;||
       FALSE2:                                                 ;||
                POP BX                                         ;||
                POP SI                                         ;||
                POP BP                                         ;||
                MOV FLAG1,0                                    ;||
                RET                                            ;||
                                                               ;||
IF_OCCUPIED ENDP                                               ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||



;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||| ERROR MESSAGE IF INVALID INPUT ||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
INVALID_INPUTF PROC                                            ;||
                                                               ;||
                        PUSH AX                                ;||
                        PUSH DX                                ;||
                                                               ;||
                        MOV AH,09                              ;||
                        LEA DX,INVALID_INPUT                   ;||
                        INT 21H                                ;||
                                                               ;||
                        POP DX                                 ;||
                        POP AX                                 ;||
                                                               ;||
                        RET                                    ;||
                                                               ;||
INVALID_INPUTF ENDP                                            ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||


;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||| CHECKS RANGE OF INPUT FROM 1-9 ||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
INPUT_VALIDATION PROC                                          ;||
                                                               ;||
        MOV BP,SP                                              ;||
        ADD BP,2                                               ;||
                                                               ;||
        CMP [BP],BYTE PTR '1'                                  ;||
        JB  FALSE1                                             ;||
                                                               ;||
        CMP [BP],BYTE PTR '9'                                  ;||
        JA  FALSE1                                             ;||
                                                               ;||
                                                               ;||
                MOV FLAG1,1                                    ;||
                RET                                            ;||
                                                               ;||
        FALSE1:                                                ;||
                MOV FLAG1,0                                    ;||
                RET                                            ;||
                                                               ;||
INPUT_VALIDATION ENDP                                          ;||
                                                               ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||



;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;||||||||||||||||| GAME BOARD DISPLAYING FUNCTION ||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
                                                               ;||
                                                               ;||
DISPLAY1 PROC                                                  ;||
                                                               ;||
                                                               ;||
                                                               ;||
                                                               ;||
        PUSH SI                                                ;||
        PUSH AX                                                ;||
        PUSH BX                                                ;||
        PUSH CX                                                ;||
        PUSH DX                                                ;||
                                                               ;||
        MOV SI,0                                               ;||
        MOV BX,0                                               ;||
        MOV AH,09                                              ;||
        LEA DX,PLAYERS_MARKS                                   ;||
        INT 21H                                                ;||
                                                               ;||
                                                               ;||
        MOV CX,0                                               ;||
        MOV AH,09                                              ;||
        LEA DX,MSG                                             ;||
        INT 21H                                                ;||
                                                               ;||
     LINES:                                                    ;||
                                                               ;||
        MOV AH,02                                              ;||
        MOV DL,10                                              ;||
        INT 21H                                                ;||
                                                               ;||
        MOV AH,09                                              ;||
        LEA DX,SPCS                                            ;||
        INT 21H                                                ;||
                                                               ;||
        MOV AH,02                                              ;||
        MOV DL,'|'                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,NUMS[BX][SI]                                    ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,'|'                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,NUMS[BX][SI+1]                                  ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,'|'                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||               
                                                               ;||
        MOV DL,NUMS[BX][SI+2]                                  ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,' '                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV DL,'|'                                             ;||
        INT 21H                                                ;||
                                                               ;||
        MOV AH,09                                              ;||
        LEA DX,MSG                                             ;||
        INT 21H                                                ;||
                                                               ;||
        ADD BX,3                                               ;||
        INC CX                                                 ;||
        CMP CX,3                                               ;||
        JNE LINES                                              ;||
                                                               ;||
        MOV CX,2
        WHILE_11:

                MOV AH,02                                      ;||
                MOV DL,10                                      ;||
                INT 21H                                        ;||
         LOOP WHILE_11

                                                               ;||
        POP DX                                                 ;||
        POP CX                                                 ;||
        POP BX                                                 ;||
        POP AX                                                 ;||
        POP SI                                                 ;||
                                                               ;||
        RET                                                    ;||
                                                               ;||
                                                               ;||
                                                               ;||
                                                               ;||
DISPLAY1 ENDP                                                  ;||
                                                               ;||
                                                               ;||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
;|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||




END MAIN
